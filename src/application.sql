drop database applicationonline1_2;

create database applicationonline1_2;

use applicationonline1_2;

-- ----------------------------
-- Table structure for `USER`
-- ----------------------------
DROP TABLE IF EXISTS `USER`;
CREATE TABLE `USER` (
    `USER_ID` int(11) NOT NULL AUTO_INCREMENT COMMENT '用户编码',
    `NAME` varchar(50) NOT NULL COMMENT '用户名称',
    `EMAIL` varchar(50) NOT NULL COMMENT '用户邮箱',
    `PASSWORD` varchar(70) NOT NULL COMMENT '用户密码',
    PRIMARY KEY (`USER_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='用户资料';

-- ----------------------------
-- Records of USER
-- ----------------------------

INSERT INTO `USER`(USER_ID,NAME,EMAIL,PASSWORD) VALUES ('1', 'USER', 'user@qq.com', 'E10ADC3949BA59ABBE56E057F20F883E');
INSERT INTO `USER`(USER_ID,NAME,EMAIL,PASSWORD) VALUES ('2', 'ADMIN', 'admin@qq.com', 'E10ADC3949BA59ABBE56E057F20F883E');
INSERT INTO `USER`(USER_ID,NAME,EMAIL,PASSWORD) VALUES ('3', 'SUPERADMIN', 'superadmin@qq.com', 'E10ADC3949BA59ABBE56E057F20F883E');


-- ----------------------------
-- Table structure for `ROLE`
-- ----------------------------
DROP TABLE IF EXISTS `ROLE`;
CREATE TABLE `ROLE` (
    `ROLE_ID` int(11) NOT NULL AUTO_INCREMENT COMMENT '用户编码',
    `ROLE_NAME` varchar(50) NOT NULL COMMENT '用户名称',
    PRIMARY KEY (`ROLE_ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='角色资料';

-- ----------------------------
-- Records of `ROLE`
-- ----------------------------

INSERT INTO `ROLE` VALUES ('1', 'USER');
INSERT INTO `ROLE` VALUES ('2', 'ADMIN');
INSERT INTO `ROLE` VALUES ('3', 'SUPERADMIN');

-- ----------------------------
-- Table structure for `USER_ROLE`
-- ----------------------------
DROP TABLE IF EXISTS `USER_ROLE`;
CREATE TABLE `USER_ROLE` (
  `ID` int(11) NOT NULL AUTO_INCREMENT,
  `USER_ID` int(11) NOT NULL DEFAULT '0' COMMENT '用户编码',
  `ROLE_ID` int(11) DEFAULT NULL COMMENT '角色编码',
  PRIMARY KEY (`ID`),
  KEY `FK2_USER_ROLE1` (`USER_ID`),
  KEY `FK2_USER_ROLE2` (`ROLE_ID`),
  CONSTRAINT `FK2_USER_ROLE1` FOREIGN KEY (`USER_ID`) REFERENCES `USER` (`USER_ID`),
  CONSTRAINT `FK2_USER_ROLE2` FOREIGN KEY (`ROLE_ID`) REFERENCES `ROLE` (`ROLE_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=25 DEFAULT CHARSET=utf8 COMMENT='用户角色资料表';

-- ----------------------------
-- Records of USER_ROLE
-- ----------------------------
INSERT INTO `USER_ROLE` VALUES ('1', '1', '1');
INSERT INTO `USER_ROLE` VALUES ('2', '2', '2');
INSERT INTO `USER_ROLE` VALUES ('3', '3', '3');


-- ----------------------------
-- Table structure for `PERMISSION`
-- ----------------------------
DROP TABLE IF EXISTS `PERMISSION`;
CREATE TABLE `PERMISSION` (
  `PERMISSION_ID` int(11) NOT NULL AUTO_INCREMENT COMMENT '权限编码',
  `PNAME` varchar(100) DEFAULT NULL,
  `URL` varchar(200) DEFAULT NULL COMMENT '链接地址',
  PRIMARY KEY (`PERMISSION_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=101 DEFAULT CHARSET=utf8 COMMENT='权限资料表';

-- ----------------------------
-- Records of PERMISSION
-- ----------------------------
INSERT INTO `PERMISSION` VALUES ('1', '提交申请', '1');
INSERT INTO `PERMISSION` VALUES ('2', '查看所有人申请', '1');
INSERT INTO `PERMISSION` VALUES ('3', '修改申请', '1');



-- ----------------------------
-- Table structure for `ROLE_PERMISSION`
-- ----------------------------
DROP TABLE IF EXISTS `ROLE_PERMISSION`;
CREATE TABLE `ROLE_PERMISSION` (
  `ID` int(11) NOT NULL AUTO_INCREMENT COMMENT '主键',
  `ROLE_ID` int(11) NOT NULL COMMENT '角色编码',
  `PERMISSION_ID` int(11) NOT NULL COMMENT '权限编码',
  PRIMARY KEY (`ID`),
  KEY `FK2_ROLE_PERMISSION1` (`ROLE_ID`),
  KEY `FK2_ROLE_PERMISSION2` (`PERMISSION_ID`),
  CONSTRAINT `FK2_ROLE_PERMISSION1` FOREIGN KEY (`ROLE_ID`) REFERENCES `ROLE` (`ROLE_ID`),
  CONSTRAINT `FK2_ROLE_PERMISSION2` FOREIGN KEY (`PERMISSION_ID`) REFERENCES `PERMISSION` (`PERMISSION_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=275 DEFAULT CHARSET=utf8 COMMENT='角色权限资料';

-- ----------------------------
-- Records of ROLE_PERMISSION
-- ----------------------------
INSERT INTO `ROLE_PERMISSION` VALUES ('1', '1', '1');
INSERT INTO `ROLE_PERMISSION` VALUES ('2', '2', '1');
INSERT INTO `ROLE_PERMISSION` VALUES ('3', '2', '2');
INSERT INTO `ROLE_PERMISSION` VALUES ('4', '3', '1');
INSERT INTO `ROLE_PERMISSION` VALUES ('5', '3', '2');
INSERT INTO `ROLE_PERMISSION` VALUES ('6', '3', '3');

-- ----------------------------
-- Table structure for `BASICINFO`
-- ----------------------------
DROP TABLE IF EXISTS `BASICINFO`;
CREATE TABLE `BASICINFO` (
  `BASICINFO_ID` int(11) NOT NULL AUTO_INCREMENT COMMENT  '基本信息申请编码',
  `NAME` VARCHAR(50) DEFAULT NULL COMMENT '姓名',
  `SEX` VARCHAR(5) DEFAULT NULL COMMENT '性别',
  `EMAIL` VARCHAR(50) DEFAULT NULL ,
  `ADDRESS` VARCHAR(100) DEFAULT NULL COMMENT '地址',
  PRIMARY KEY (`BASICINFO_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=275 DEFAULT CHARSET=utf8 COMMENT='基本信息申请表';

-- ----------------------------
-- Table structure for `STUDYINFO`
-- ----------------------------
DROP TABLE IF EXISTS `STUDYINFO`;
CREATE TABLE `STUDYINFO` (
  `STUDYINFO_ID` int(11) NOT NULL AUTO_INCREMENT COMMENT  '学习申请编码',
  `STUDYINFO` VARCHAR(100) DEFAULT NULL ,
  PRIMARY KEY (`STUDYINFO_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=275 DEFAULT CHARSET=utf8 COMMENT='学习信息申请表';

-- ----------------------------
-- Table structure for `WORKINFO`
-- ----------------------------
DROP TABLE IF EXISTS `WORKINFO`;
CREATE TABLE `WORKINFO` (
  `WORKINFO_ID` int(11) NOT NULL AUTO_INCREMENT COMMENT  '工作信息申请编码',
  `WORKINFO` VARCHAR(100) DEFAULT NULL ,
  PRIMARY KEY (`WORKINFO_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=275 DEFAULT CHARSET=utf8 COMMENT='工作信息申请表';


-- ----------------------------
-- Table structure for `INDIVIDUALRESUME`
-- ----------------------------
DROP TABLE IF EXISTS `INDIVIDUALRESUME`;
CREATE TABLE `INDIVIDUALRESUME` (
  `INDIVIDUALRESUME_ID` int(11) NOT NULL AUTO_INCREMENT COMMENT  '工作信息申请编码',
  `INDIVIDUALRESUMEINFO` VARCHAR(100) DEFAULT NULL ,
  PRIMARY KEY (`INDIVIDUALRESUME_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=275 DEFAULT CHARSET=utf8 COMMENT='个人简介申请表';


-- ----------------------------
-- Table structure for `BASEAPPLICATION`
-- ----------------------------
DROP TABLE IF EXISTS `BASEAPPLICATION`;
CREATE TABLE `BASEAPPLICATION` (
  `BASEAPPLICATION_ID` int(11) NOT NULL AUTO_INCREMENT COMMENT  '总申请编码',
  `BASICINFO_ID` int(11) NOT NULL  COMMENT '基本信息申请编码',
  `STUDYINFO_ID` int(11) NOT NULL COMMENT '学习信息申请编码',
  `WORKINFO_ID` int(11) NOT NULL  COMMENT '工作信息申请编码',
  `INDIVIDUALRESUME_ID` int(11) NOT NULL COMMENT '个人介绍信息申请编码',
  PRIMARY KEY (`BASEAPPLICATION_ID`),
  KEY `FK2_BASE_BASIC` (`BASICINFO_ID`),
  KEY `FK2_BASE_STUDY` (`STUDYINFO_ID`),
  KEY `FK2_BASE_WORK` (`WORKINFO_ID`),
  KEY `FK2_BASE_INDIVIDUL` (`INDIVIDUALRESUME_ID`),
  CONSTRAINT `FK2_BASE_BASIC` FOREIGN KEY (`BASICINFO_ID`) REFERENCES `BASICINFO` (`BASICINFO_ID`),
  CONSTRAINT `FK2_BASE_STUDY` FOREIGN KEY (`STUDYINFO_ID`) REFERENCES `STUDYINFO` (`STUDYINFO_ID`),
  CONSTRAINT `FK2_BASE_WORK` FOREIGN KEY (`WORKINFO_ID`) REFERENCES `WORKINFO` (`WORKINFO_ID`),
  CONSTRAINT `FK2_BASE_INDIVIDUL` FOREIGN KEY (`INDIVIDUALRESUME_ID`) REFERENCES `INDIVIDUALRESUME` (`INDIVIDUALRESUME_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=275 DEFAULT CHARSET=utf8 COMMENT='总申请表';

-- ----------------------------
-- Table structure for `USER_APPLICATION`
-- ----------------------------
DROP TABLE IF EXISTS `USER_APPLICATION`;
CREATE TABLE `USER_APPLICATION` (
  `USER_APPLICATION_ID` int(11) NOT NULL AUTO_INCREMENT COMMENT  '用户申请编码',
  `BASEAPPLICATION_ID` int(11) NOT NULL  COMMENT '申请编码',
  `USER_ID` int(11) NOT NULL COMMENT '用户编码',
  `IS_SUBMIT` int(3) NOT NULL DEFAULT 0 COMMENT '是否提交',
  PRIMARY KEY (`USER_APPLICATION_ID`),
  KEY `FK2_UA_USER_ID` (`USER_ID`),
  KEY `FK2_UA_APPLICATION_ID` (`BASEAPPLICATION_ID`),
  CONSTRAINT `FK2_UA_USER_ID` FOREIGN KEY (`USER_ID`) REFERENCES `USER` (`USER_ID`),
  CONSTRAINT `FK2_UA_APPLICATION_ID` FOREIGN KEY (`BASEAPPLICATION_ID`) REFERENCES `BASEAPPLICATION` (`BASEAPPLICATION_ID`)
) ENGINE=InnoDB AUTO_INCREMENT=275 DEFAULT CHARSET=utf8 COMMENT='用户申请表';



